    # -*- coding: utf-8 -*-
    """
    Конфигурация системы RelayBot
    Централизованные параметры для всех подсистем
    """

    import math

    # ============================================================================
    # КООРДИНАТЫ ЗОН (для прототипа в комнате 2x1 метр)
    # ============================================================================

    # Домашняя позиция робота (начало координат)
    HOME_POSITION = (0.2, 0.5)  # 20см от стены, центр по ширине

    # Зона загрузки склада (координаты в метрах)
    WAREHOUSE_ZONE = (1.65, 0.5)  # У противоположной стены, центр по ширине

    # Радиус зоны доставки (метры)
    DELIVERY_ZONE_RADIUS = 0.5  # 50см радиус для маленькой комнаты

    # ============================================================================
    # ПАРАМЕТРЫ НАВИГАЦИИ (для прототипа)
    # ============================================================================

    # Допуск позиции для достижения цели (метры)
    POSITION_TOLERANCE = 0.05  # 5см для маленького робота

    # Расстояние подхода к клиенту (метры)
    CUSTOMER_APPROACH_DISTANCE = 0.25  # 25см для прототипа

    # Максимальная скорость моторов (0-255)
    MAX_SPEED = 120  # Снижена для безопасности в маленькой комнате

    # Минимальная скорость моторов для движения (0-255)
    MIN_SPEED = 40  # Снижена для плавного движения

    # Частота обновления локализации (Герц)
    LOCALIZATION_UPDATE_RATE = 5  # Снижено до 5 Гц для производительности

    # Частота обновления навигации (Герц)
    NAVIGATION_UPDATE_RATE = 10

    # Максимальное время застревания перед ошибкой (секунды)
    MAX_STUCK_TIME = 30.0

    # Порог определения застревания (метры)
    STUCK_THRESHOLD = 0.05

    # ============================================================================
    # ПАРАМЕТРЫ LIDAR (для маленькой комнаты)
    # ============================================================================

    # Последовательный порт LiDAR
    LIDAR_PORT = '/dev/ttyUSB0'

    # Скорость передачи данных LiDAR
    LIDAR_BAUDRATE = 230400

    # Минимальное количество точек для обнаружения человека
    PERSON_DETECTION_MIN_POINTS = 2  # Снижено до 2 для отладки (было 5)

    # Расстояние кластеризации для обнаружения человека (метры)
    PERSON_DETECTION_CLUSTER_DISTANCE = 0.30  # Увеличено для отладки

    # Минимальный размер кластера для человека (метры)
    PERSON_MIN_CLUSTER_SIZE = 0.05  # Сильно снижено для отладки

    # Максимальный размер кластера для человека (метры)
    PERSON_MAX_CLUSTER_SIZE = 2.0  # Увеличено для отладки

    # Минимальное расстояние обнаружения препятствий (метры)
    OBSTACLE_MIN_DISTANCE = 0.15  # 15см для маленького робота

    # Максимальная дальность LiDAR (метры)
    LIDAR_MAX_RANGE = 0.5  # Ограничено для обнаружения на близком расстоянии

    # Минимальная дальность LiDAR (метры)
    LIDAR_MIN_RANGE = 0.03  # 3см минимум

    # ============================================================================
    # ПАРАМЕТРЫ ОДОМЕТРИИ (для прототипа 16x19см)
    # ============================================================================

    # Расстояние между колесами (метры)
    WHEEL_BASE = 0.14  # 14см (примерно для робота 16см ширины)

    # Радиус колеса (метры)
    WHEEL_RADIUS = 0.03  # 3см радиус (6см диаметр - типичные колеса для прототипа)

    # Количество тиков энкодера на один оборот колеса
    ENCODER_TICKS_PER_REVOLUTION = 500

    # ============================================================================
    # ПАРАМЕТРЫ ПОСЛЕДОВАТЕЛЬНОЙ СВЯЗИ (для Linux)
    # ============================================================================

    # Порт Arduino (Linux: '/dev/ttyACM0' или '/dev/ttyUSB1')
    ARDUINO_PORT = '/dev/ttyACM0'

    # Скорость передачи данных Arduino
    ARDUINO_BAUDRATE = 9600

    # Таймаут последовательной связи (секунды)
    SERIAL_TIMEOUT = 0.5

    # Максимальное количество попыток отправки команды
    SERIAL_MAX_RETRIES = 3

    # Размер очереди команд
    SERIAL_COMMAND_QUEUE_SIZE = 10

    # ============================================================================
    # ПАРАМЕТРЫ ДОСТАВКИ
    # ============================================================================

    # Время ожидания забора посылки клиентом (секунды)
    DELIVERY_TIMEOUT = 10.0

    # Время ожидания загрузки посылки на складе (секунды)
    LOADING_CONFIRMATION_TIMEOUT = 60.0

    # Время ожидания сканирования QR кода (секунды)
    QR_SCAN_TIMEOUT = 30.0

    # ============================================================================
    # ПАРАМЕТРЫ АУДИО
    # ============================================================================

    # Директория с аудио файлами
    AUDIO_DIR = 'assets/audio'

    # Имена аудио файлов
    AUDIO_REQUEST_QR = 'request_qr.wav'
    AUDIO_ORDER_ACCEPTED = 'order_accepted.wav'
    AUDIO_ORDER_REJECTED = 'order_rejected.wav'
    AUDIO_DELIVERY_GREETING = 'delivery_greeting.wav'
    AUDIO_SUCCESS_SCAN = 'successScan.wav'
    AUDIO_FAILURE_SCAN = 'failureScan.wav'
    AUDIO_ERROR = 'error.wav'

    # ============================================================================
    # ПАРАМЕТРЫ БАЗЫ ДАННЫХ
    # ============================================================================

    # URL базы данных SQLite
    DATABASE_URL = "sqlite:///assets/orders.db"

    # ============================================================================
    # ПАРАМЕТРЫ СЕРВОПРИВОДА (КОРОБКА)
    # ============================================================================

    # Угол открытой коробки (градусы)
    BOX_OPEN_ANGLE = 90

    # Угол закрытой коробки (градусы)
    BOX_CLOSE_ANGLE = 0

    # Скорость движения сервопривода (градусы/секунда)
    SERVO_SPEED = 45

    # ============================================================================
    # ПАРАМЕТРЫ КАРТЫ (для комнаты 2x1 метр)
    # ============================================================================

    # Путь к файлу карты окружения
    MAP_FILE = 'assets/maps/warehouse_map.yaml'

    # Разрешение карты (метры на пиксель)
    MAP_RESOLUTION = 0.02  # 2см на пиксель для точности в маленькой комнате

    # Размер карты (метры)
    MAP_WIDTH = 2.0  # 2 метра
    MAP_HEIGHT = 1.0  # 1 метр

    # ============================================================================
    # ПАРАМЕТРЫ ФИЛЬТРА ЧАСТИЦ (ЛОКАЛИЗАЦИЯ) (для прототипа)
    # ============================================================================

    # Количество частиц для локализации
    NUM_PARTICLES = 50  # Сильно уменьшено для производительности на прототипе

    # Шум движения (стандартное отклонение)
    MOTION_NOISE_TRANSLATION = 0.01  # 1см - меньше для маленького робота
    MOTION_NOISE_ROTATION = 0.03     # радианы - меньше для точности

    # Шум измерения LiDAR (стандартное отклонение)
    MEASUREMENT_NOISE = 0.05  # 5см - меньше для маленькой комнаты

    # Порог ресемплинга (эффективное количество частиц)
    RESAMPLE_THRESHOLD = 0.5

    # ============================================================================
    # ПАРАМЕТРЫ ПЛАНИРОВАНИЯ ПУТИ (A*) (для прототипа)
    # ============================================================================

    # Минимальный зазор от препятствий (метры)
    OBSTACLE_CLEARANCE = 0.10  # 10см зазор для робота 16x19см

    # Размер шага планирования (метры)
    PLANNING_STEP_SIZE = 0.05  # 5см шаг для точности

    # Максимальное количество итераций A*
    MAX_PLANNING_ITERATIONS = 5000  # Меньше для маленькой карты

    # ============================================================================
    # ПАРАМЕТРЫ PID КОНТРОЛЛЕРА
    # ============================================================================

    # Коэффициенты PID для линейной скорости
    PID_LINEAR_KP = 1.0
    PID_LINEAR_KI = 0.0
    PID_LINEAR_KD = 0.1

    # Коэффициенты PID для угловой скорости
    PID_ANGULAR_KP = 2.0
    PID_ANGULAR_KI = 0.0
    PID_ANGULAR_KD = 0.2

    # ============================================================================
    # ПАРАМЕТРЫ ЛОГИРОВАНИЯ
    # ============================================================================

    # Уровень логирования ('DEBUG', 'INFO', 'WARNING', 'ERROR', 'CRITICAL')
    LOG_LEVEL = 'INFO'

    # Путь к файлу лога
    LOG_FILE = 'relaybot.log'

    # Максимальный размер файла лога (байты)
    LOG_MAX_SIZE = 10 * 1024 * 1024  # 10 MB

    # Количество резервных копий лога
    LOG_BACKUP_COUNT = 5

    # ============================================================================
    # ПАРАМЕТРЫ ВОССТАНОВЛЕНИЯ ПОСЛЕ ОШИБОК
    # ============================================================================

    # Максимальное количество попыток восстановления
    MAX_RECOVERY_ATTEMPTS = 3

    # Время ожидания между попытками восстановления (секунды)
    RECOVERY_RETRY_DELAY = 2.0

    # Максимальное время попытки восстановления (секунды)
    MAX_RECOVERY_TIME = 60.0

    # ============================================================================
    # ПАРАМЕТРЫ ТАЙМАУТОВ СОСТОЯНИЙ
    # ============================================================================

    # Максимальное время в состоянии WAITING (секунды, 0 = без ограничений)
    STATE_TIMEOUT_WAITING = 0

    # Максимальное время в состоянии APPROACHING (секунды)
    STATE_TIMEOUT_APPROACHING = 60.0

    # Максимальное время в состоянии VERIFYING (секунды)
    STATE_TIMEOUT_VERIFYING = 30.0

    # Максимальное время в состоянии NAVIGATING_TO_WAREHOUSE (секунды)
    STATE_TIMEOUT_NAVIGATING_TO_WAREHOUSE = 120.0

    # Максимальное время в состоянии LOADING (секунды)
    STATE_TIMEOUT_LOADING = 60.0

    # Максимальное время в состоянии RETURNING_TO_CUSTOMER (секунды)
    STATE_TIMEOUT_RETURNING_TO_CUSTOMER = 120.0

    # Максимальное время в состоянии DELIVERING (секунды)
    STATE_TIMEOUT_DELIVERING = 15.0

    # Максимальное время в состоянии RESETTING (секунды)
    STATE_TIMEOUT_RESETTING = 120.0

    # Максимальное время в состоянии ERROR_RECOVERY (секунды)
    STATE_TIMEOUT_ERROR_RECOVERY = 180.0

    # ============================================================================
    # ПАРАМЕТРЫ IR СЕНСОРА
    # ============================================================================

    # Минимальное расстояние для экстренной остановки (метры)
    IR_EMERGENCY_STOP_DISTANCE = 0.1

    # Расстояние для предупреждения о препятствии (метры)
    IR_WARNING_DISTANCE = 0.3

    # ============================================================================
    # КОНСТАНТЫ
    # ============================================================================

    # Математические константы
    PI = math.pi
    TWO_PI = 2 * math.pi

    # Преобразование градусов в радианы
    DEG_TO_RAD = math.pi / 180.0

    # Преобразование радианов в градусы
    RAD_TO_DEG = 180.0 / math.pi
