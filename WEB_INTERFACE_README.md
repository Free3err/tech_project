# RelayBot Web Interface

–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–±–æ—Ç–æ–º RelayBot —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìπ **–¢—Ä–∞–Ω—Å–ª—è—Ü–∏—è –∫–∞–º–µ—Ä—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** - MJPEG —Å—Ç—Ä–∏–º —Å –∫–∞–º–µ—Ä—ã —Ä–æ–±–æ—Ç–∞
- üéØ **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è LiDAR –∫–∞—Ä—Ç—ã** - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å –ª–∏–¥–∞—Ä–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- üéÆ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏–µ–º** - –∫–Ω–æ–ø–∫–∏ –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–±–æ—Ç–æ–º
- üîß **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥–æ–º** - —Å–ª–∞–π–¥–µ—Ä –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è/–∑–∞–∫—Ä—ã—Ç–∏—è —è—â–∏–∫–∞ (0-112¬∞)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source .venv/bin/activate  # Linux/Mac
# –∏–ª–∏
.venv\Scripts\activate  # Windows

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install Flask flask-socketio python-socketio eventlet opencv-python
```

–ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ requirements.txt:

```bash
pip install -r requirements.txt
```

## –ó–∞–ø—É—Å–∫

```bash
python run_web_interface.py
```

–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:
- –õ–æ–∫–∞–ª—å–Ω–æ: http://localhost:5000
- –í —Å–µ—Ç–∏: http://<IP_–∞–¥—Ä–µ—Å_—Ä–æ–±–æ—Ç–∞>:5000

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ö–Ω–æ–ø–∫–∏ –Ω–∞ —ç–∫—Ä–∞–Ω–µ
- ‚¨ÜÔ∏è **–í–ø–µ—Ä–µ–¥** - –¥–≤–∏–∂–µ–Ω–∏–µ –≤–ø–µ—Ä–µ–¥
- ‚¨áÔ∏è **–ù–∞–∑–∞–¥** - –¥–≤–∏–∂–µ–Ω–∏–µ –Ω–∞–∑–∞–¥
- ‚¨ÖÔ∏è **–í–ª–µ–≤–æ** - –ø–æ–≤–æ—Ä–æ—Ç –≤–ª–µ–≤–æ
- ‚û°Ô∏è **–í–ø—Ä–∞–≤–æ** - –ø–æ–≤–æ—Ä–æ—Ç –≤–ø—Ä–∞–≤–æ
- ‚èπÔ∏è **–°—Ç–æ–ø** - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞
- `W` –∏–ª–∏ `‚Üë` - –≤–ø–µ—Ä–µ–¥
- `S` –∏–ª–∏ `‚Üì` - –Ω–∞–∑–∞–¥
- `A` –∏–ª–∏ `‚Üê` - –≤–ª–µ–≤–æ
- `D` –∏–ª–∏ `‚Üí` - –≤–ø—Ä–∞–≤–æ
- `–ü—Ä–æ–±–µ–ª` - —Å—Ç–æ–ø

–ü—Ä–∏ –æ—Ç–ø—É—Å–∫–∞–Ω–∏–∏ –∫–ª–∞–≤–∏—à —Ä–æ–±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è.

### –°–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–∞–π–¥–µ—Ä –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É–≥–ª–æ–º —Å–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥–∞ (0-112¬∞):
- 0¬∞ - —è—â–∏–∫ –∑–∞–∫—Ä—ã—Ç
- 112¬∞ - —è—â–∏–∫ –æ—Ç–∫—Ä—ã—Ç

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Backend (Flask + SocketIO)
- `/` - –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
- `/video_feed` - MJPEG —Å—Ç—Ä–∏–º —Å –∫–∞–º–µ—Ä—ã
- `/api/move` - POST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏–µ–º
- `/api/servo` - POST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥–æ–º
- WebSocket - –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö LiDAR –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (10 –ì—Ü)

### Frontend (HTML + Canvas + JavaScript)
- Canvas –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ LiDAR –∫–∞—Ä—Ç—ã
- Socket.IO –∫–ª–∏–µ–Ω—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö LiDAR
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å —Ç–µ–º–Ω–æ–π —Ç–µ–º–æ–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∏ —Ç–∞—á-—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ö–∞–º–µ—Ä–∞
- –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ: 640x480
- FPS: 30
- –§–æ—Ä–º–∞—Ç: MJPEG
- –ö–∞—á–µ—Å—Ç–≤–æ JPEG: 85%

### LiDAR
- –ß–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è: 10 –ì—Ü
- –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö: JSON —á–µ—Ä–µ–∑ WebSocket
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è: –ø–æ–ª—è—Ä–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–∞ Canvas
- –ú–∞—Å—à—Ç–∞–±: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π (–¥–æ 600–º–º)

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏–µ–º
- –°–∫–æ—Ä–æ—Å—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 120
- –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: 0 = –≤–ø–µ—Ä–µ–¥, 1 = –Ω–∞–∑–∞–¥
- –ö–æ–º–∞–Ω–¥—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ Serial –Ω–∞ Arduino

## –û—Ç–ª–∞–¥–∫–∞

–õ–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ. –î–ª—è –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω—ã—Ö –ª–æ–≥–æ–≤:

```python
logging.basicConfig(level=logging.DEBUG)
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –ö–∞–º–µ—Ä–∞: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ `/dev/video0` (Linux) –∏–ª–∏ –∏–Ω–¥–µ–∫—Å –∫–∞–º–µ—Ä—ã
- LiDAR: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç `/dev/ttyUSB0` –∏ baudrate 230400
- Arduino: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç `/dev/ttyACM0` –∏ baudrate 9600

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–ù–ò–ú–ê–ù–ò–ï**: –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ `0.0.0.0` (–¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ —Å–µ—Ç–∏).

–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏—Ç–µ –≤ `run_web_interface.py`:
```python
run_web_interface(host='127.0.0.1', port=5000)
```

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–ö–∞–º–µ—Ä–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–∞–º–µ—Ä–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥—Ä—É–≥–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º
2. **LiDAR –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ LiDAR –∏ –ø–æ—Ä—Ç
3. **–†–æ–±–æ—Ç –Ω–µ –¥–≤–∏–≥–∞–µ—Ç—Å—è**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Arduino —á–µ—Ä–µ–∑ Serial

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- Python 3.10+
- Ubuntu 22.04 (–ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ)
- –ë—Ä–∞—É–∑–µ—Ä—ã: Chrome, Firefox, Safari (–ø–æ—Å–ª–µ–¥–Ω–∏–µ –≤–µ—Ä—Å–∏–∏)
- –ú–æ–±–∏–ª—å–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã: –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è
